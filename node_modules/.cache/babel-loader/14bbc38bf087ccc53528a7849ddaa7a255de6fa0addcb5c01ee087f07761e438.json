{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\danil\\\\OneDrive\\\\Desktop\\\\portalpraktiki\\\\src\\\\pages\\\\LoginPage.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { useAuth } from \"../context/AuthContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst LoginPage = () => {\n  _s();\n  const navigate = useNavigate();\n  const {\n    login\n  } = useAuth();\n  const [isLoading, setIsLoading] = useState(false);\n  const handleSubmit = e => {\n    e.preventDefault();\n    setIsLoading(true);\n\n    // Получаем значение из первого поля (Login)\n    const loginInput = e.target[0].value.trim();\n\n    // --- ЛОГИКА ОПРЕДЕЛЕНИЯ РОЛИ ---\n    let detectedRole = \"student\"; // По умолчанию - Студент (любой формат группы)\n    let userName = \"Иван Иванов\"; // Фейковое имя для студента\n\n    // 1. Проверка на Компанию (Только цифры = ИНН)\n    // Регулярное выражение: ^\\d+$ означает \"от начала до конца только цифры\"\n    if (/^\\d+$/.test(loginInput)) {\n      detectedRole = \"company\";\n      userName = \"ООО «Мостовик»\";\n    }\n    // 2. Проверка на Сотрудника (Есть собачка @ = Email)\n    else if (loginInput.includes(\"@\")) {\n      detectedRole = \"employee\";\n      userName = \"Петрова Анна Сергеевна\";\n    }\n    // 3. Иначе (pib-22, adb-11, любые буквы) -> остается \"student\"\n\n    // Имитация задержки сервера\n    setTimeout(() => {\n      login({\n        name: userName,\n        email: loginInput,\n        // Сохраняем то, что ввел пользователь\n        role: detectedRole\n      });\n      setIsLoading(false);\n      navigate(\"/profile\");\n    }, 1000);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container auth-container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"auth-card\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"\\u0412\\u0445\\u043E\\u0434 \\u0432 \\u0441\\u0438\\u0441\\u0442\\u0435\\u043C\\u0443\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"\\u041B\\u043E\\u0433\\u0438\\u043D\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"form-input\",\n            placeholder: \"\\u0417\\u0430\\u0447\\u0435\\u0442\\u043A\\u0430 / Email / \\u0418\\u041D\\u041D\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"input-hint\",\n            children: \"\\u0421\\u0442\\u0443\\u0434\\u0435\\u043D\\u0442\\u044B: \\u041D\\u043E\\u043C\\u0435\\u0440 \\u0437\\u0430\\u0447\\u0435\\u0442\\u043A\\u0438 | \\u0421\\u043E\\u0442\\u0440\\u0443\\u0434\\u043D\\u0438\\u043A\\u0438: Email | \\u041A\\u043E\\u043C\\u043F\\u0430\\u043D\\u0438\\u0438: \\u0418\\u041D\\u041D\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            className: \"form-input\",\n            placeholder: \"\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"btn-primary\",\n          disabled: isLoading,\n          style: {\n            opacity: isLoading ? 0.7 : 1\n          },\n          children: isLoading ? \"Вход...\" : \"Войти\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"auth-links\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"\\u041D\\u0435\\u0442 \\u0430\\u043A\\u043A\\u0430\\u0443\\u043D\\u0442\\u0430? \", /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/register\",\n            children: \"\\u0417\\u0430\\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\\u0441\\u044F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 27\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            marginTop: \"10px\"\n          },\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: \"#\",\n            children: \"\\u0417\\u0430\\u0431\\u044B\\u043B\\u0438 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C?\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 5\n  }, this);\n};\n_s(LoginPage, \"WRyTTlMBkUstxHVeUnNHQShEQRY=\", false, function () {\n  return [useNavigate, useAuth];\n});\n_c = LoginPage;\nexport default LoginPage;\nvar _c;\n$RefreshReg$(_c, \"LoginPage\");","map":{"version":3,"names":["React","useState","Link","useNavigate","useAuth","jsxDEV","_jsxDEV","LoginPage","_s","navigate","login","isLoading","setIsLoading","handleSubmit","e","preventDefault","loginInput","target","value","trim","detectedRole","userName","test","includes","setTimeout","name","email","role","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","placeholder","required","disabled","style","opacity","to","marginTop","_c","$RefreshReg$"],"sources":["C:/Users/danil/OneDrive/Desktop/portalpraktiki/src/pages/LoginPage.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport { useAuth } from \"../context/AuthContext\";\r\n\r\nconst LoginPage = () => {\r\n  const navigate = useNavigate();\r\n  const { login } = useAuth();\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    setIsLoading(true);\r\n\r\n    // Получаем значение из первого поля (Login)\r\n    const loginInput = e.target[0].value.trim();\r\n\r\n    // --- ЛОГИКА ОПРЕДЕЛЕНИЯ РОЛИ ---\r\n    let detectedRole = \"student\"; // По умолчанию - Студент (любой формат группы)\r\n    let userName = \"Иван Иванов\"; // Фейковое имя для студента\r\n\r\n    // 1. Проверка на Компанию (Только цифры = ИНН)\r\n    // Регулярное выражение: ^\\d+$ означает \"от начала до конца только цифры\"\r\n    if (/^\\d+$/.test(loginInput)) {\r\n      detectedRole = \"company\";\r\n      userName = \"ООО «Мостовик»\";\r\n    } \r\n    // 2. Проверка на Сотрудника (Есть собачка @ = Email)\r\n    else if (loginInput.includes(\"@\")) {\r\n      detectedRole = \"employee\";\r\n      userName = \"Петрова Анна Сергеевна\";\r\n    }\r\n    // 3. Иначе (pib-22, adb-11, любые буквы) -> остается \"student\"\r\n\r\n    // Имитация задержки сервера\r\n    setTimeout(() => {\r\n      login({\r\n        name: userName,\r\n        email: loginInput, // Сохраняем то, что ввел пользователь\r\n        role: detectedRole\r\n      });\r\n      \r\n      setIsLoading(false);\r\n      navigate(\"/profile\");\r\n    }, 1000);\r\n  };\r\n\r\n  return (\r\n    <div className=\"container auth-container\">\r\n      <div className=\"auth-card\">\r\n        <h2>Вход в систему</h2>\r\n        <form onSubmit={handleSubmit}>\r\n          <div className=\"form-group\">\r\n            <label>Логин</label>\r\n            <input \r\n              type=\"text\" \r\n              className=\"form-input\" \r\n              placeholder=\"Зачетка / Email / ИНН\" \r\n              required \r\n            />\r\n            <div className=\"input-hint\">\r\n              Студенты: Номер зачетки | Сотрудники: Email | Компании: ИНН\r\n            </div>\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label>Пароль</label>\r\n            <input \r\n              type=\"password\" \r\n              className=\"form-input\" \r\n              placeholder=\"••••••••\" \r\n              required \r\n            />\r\n          </div>\r\n\r\n          <button \r\n            type=\"submit\" \r\n            className=\"btn-primary\" \r\n            disabled={isLoading}\r\n            style={{ opacity: isLoading ? 0.7 : 1 }}\r\n          >\r\n            {isLoading ? \"Вход...\" : \"Войти\"}\r\n          </button>\r\n        </form>\r\n\r\n        <div className=\"auth-links\">\r\n          <p>\r\n            Нет аккаунта? <Link to=\"/register\">Зарегистрироваться</Link>\r\n          </p>\r\n          <p style={{ marginTop: \"10px\" }}>\r\n            <Link to=\"#\">Забыли пароль?</Link>\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoginPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}